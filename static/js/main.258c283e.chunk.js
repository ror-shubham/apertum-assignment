(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{57:function(e,t,n){e.exports=n(72)},62:function(e,t,n){},64:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(62),n(27)),l=n.n(i),s=n(35),u=n(21),m=n(10),p=n(113),d=n(117),f=n(115),h=(n(64),n(105)),v=n(108),g=n(110),b=n(111),E=Object(h.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),w=function(e){var t=e.user,n=E();return r.a.createElement(v.a,{className:n.root,variant:"outlined"},r.a.createElement(g.a,null,r.a.createElement(b.a,{className:n.title,color:"textSecondary",gutterBottom:!0},t.age),r.a.createElement(b.a,{variant:"h5",component:"h2"},"".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(b.a,{className:n.pos,color:"textSecondary"},t.accountId)))},j=(n(68),"https://apertum-interview.herokuapp.com/api/users"),k=function(){var e=Object(m.f)(),t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),h=Object(u.a)(i,2),v=h[0],g=h[1],b=Object(a.useState)(!1),E=Object(u.a)(b,2),k=E[0],O=E[1];Object(a.useEffect)((function(){var t=localStorage.getItem("auth-token");function n(){return(n=Object(s.a)(l.a.mark((function n(){var a,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return O(!0),n.next=3,fetch(j,{headers:{Accept:"application/json",Authorization:"Bearer "+t},method:"GET"});case 3:return 403===(a=n.sent).status&&(localStorage.removeItem("auth-token"),e.push("/login")),n.next=7,a.json();case 7:r=n.sent,c(r),O(!1);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}null===t&&e.push("/login"),function(){n.apply(this,arguments)}()}),[e]);var S=v?o.filter((function(e){return e.age>=20&&e.age<30&&(e.firstName+e.lastName).length>=10})):o;return r.a.createElement("div",{className:"users-parent"},r.a.createElement("div",null,r.a.createElement(f.a,{variant:"contained",onClick:function(){localStorage.removeItem("auth-token"),e.push("/login")},color:"primary",className:"signout"},"Sign Out")),r.a.createElement("div",null,r.a.createElement(d.a,{title:"Users with age >= 20 and < 30, full name length >= 10"},r.a.createElement(f.a,{variant:"contained",onClick:function(){return g(!v)},color:"secondary"},"Toggle Filter"))),k?r.a.createElement(p.a,null):r.a.createElement("div",{className:"users-list"},S.map((function(e){return r.a.createElement(w,{user:e,key:e.accountId})}))))},O=n(114),S=(n(70),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),d=i[0],h=i[1],v=Object(a.useState)(!1),g=Object(u.a)(v,2),b=g[0],E=g[1],w=Object(a.useState)(!1),j=Object(u.a)(w,2),k=j[0],S=j[1],y=Object(m.f)();Object(a.useEffect)((function(){null!==localStorage.getItem("auth-token")&&y.push("users")}),[y]);var N=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S(!1),E(!0),e.next=5,fetch("https://apertum-interview.herokuapp.com/api/user/login",{body:JSON.stringify({accountId:n,pswd:d}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 5:return a=e.sent,e.next=8,a.json();case 8:"You got the token!"===(r=e.sent).message?(localStorage.setItem("auth-token",r.token),y.push("/users")):(S(!0),E(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:N,className:"form-login"},r.a.createElement("div",{className:"login-inputs"},r.a.createElement("div",null,r.a.createElement(O.a,{error:k,label:"username",variant:"outlined",value:n,onChange:function(e){return o(e.target.value)},helperText:k?"Incorrect username or password.":""})),r.a.createElement("div",null,r.a.createElement(O.a,{error:k,label:"password",variant:"outlined",value:d,type:"password",onChange:function(e){return h(e.target.value)},helperText:k?"Incorrect username or password.":""})),r.a.createElement("div",null,r.a.createElement(f.a,{variant:"contained",onClick:N,color:"primary",disabled:b},"Submit")),r.a.createElement(p.a,{style:b?null:{visibility:"hidden"}})))}),y=(n(71),n(34));var N=function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/users"},r.a.createElement(k,null)),r.a.createElement(m.a,{path:"/"},r.a.createElement(S,null)))))},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/apertum-assignment",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/apertum-assignment","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):I(t,e)}))}}()}},[[57,1,2]]]);
//# sourceMappingURL=main.258c283e.chunk.js.map