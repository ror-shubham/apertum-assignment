(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{57:function(e,t,a){e.exports=a(72)},62:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),l=(a(62),a(27)),s=a.n(l),i=a(35),u=a(21),m=a(10),p=a(113),d=a(117),h=a(115),f=(a(64),a(105)),v=a(108),g=a(110),E=a(111),b=Object(f.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),j=function(e){var t=e.user,a=b();return r.a.createElement(v.a,{className:a.root,variant:"outlined"},r.a.createElement(g.a,null,r.a.createElement(E.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t.age),r.a.createElement(E.a,{variant:"h5",component:"h2"},"".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(E.a,{className:a.pos,color:"textSecondary"},t.accountId)))},O=(a(68),"https://apertum-interview.herokuapp.com/api/users"),S=function(){var e=Object(m.f)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),f=Object(u.a)(l,2),v=f[0],g=f[1],E=Object(n.useState)(!1),b=Object(u.a)(E,2),S=b[0],k=b[1];Object(n.useEffect)((function(){var t=localStorage.getItem("auth-token");function a(){return(a=Object(i.a)(s.a.mark((function a(){var n,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return k(!0),a.next=3,fetch(O,{headers:{Accept:"application/json",Authorization:"Bearer "+t},method:"GET"});case 3:return 403===(n=a.sent).status&&(localStorage.removeItem("auth-token"),e.push("/login")),a.next=7,n.json();case 7:r=a.sent,o(r),k(!1);case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}null===t&&e.push("/login"),function(){a.apply(this,arguments)}()}),[e]);var w=v?c.filter((function(e){return e.age>=20&&e.age<30&&(e.firstName+e.lastName).length>=10})):c;return r.a.createElement("div",{className:"users-parent"},r.a.createElement("div",null,r.a.createElement(h.a,{variant:"contained",onClick:function(){localStorage.removeItem("auth-token"),e.push("/login")},color:"primary",className:"signout"},"Sign Out")),r.a.createElement("div",null,r.a.createElement(d.a,{title:"Users with age >= 20 and < 30, full name length >= 10"},r.a.createElement(h.a,{variant:"contained",onClick:function(){return g(!v)},color:"secondary"},"Toggle Filter"))),S?r.a.createElement(p.a,null):r.a.createElement("div",{className:"users-list"},w.map((function(e){return r.a.createElement(j,{user:e,key:e.accountId})}))))},k=a(114),w=(a(70),function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),d=l[0],f=l[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),E=g[0],b=g[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),S=O[0],w=O[1],y=Object(m.f)();Object(n.useEffect)((function(){null!==localStorage.getItem("auth-token")&&y.push("users")}),[y]);var N=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!1),b(!0),e.next=5,fetch("https://apertum-interview.herokuapp.com/api/user/login",{body:JSON.stringify({accountId:a,pswd:d}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 5:return n=e.sent,e.next=8,n.json();case 8:"You got the token!"===(r=e.sent).message?(localStorage.setItem("auth-token",r.token),y.push("/users")):(w(!0),b(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:N,className:"form-login"},r.a.createElement("div",{className:"login-inputs"},r.a.createElement("div",null,r.a.createElement(k.a,{error:S,label:"username",variant:"outlined",value:a,onChange:function(e){return c(e.target.value)},helperText:S?"Incorrect username or password.":""})),r.a.createElement("div",null,r.a.createElement(k.a,{error:S,label:"password",variant:"outlined",value:d,type:"password",onChange:function(e){return f(e.target.value)},helperText:S?"Incorrect username or password.":""})),r.a.createElement("div",null,r.a.createElement(h.a,{variant:"contained",onClick:N,color:"primary",disabled:E},"Submit")),r.a.createElement(p.a,{style:E?null:{visibility:"hidden"}})))}),y=(a(71),a(34));var N=function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/users"},r.a.createElement(S,null)),r.a.createElement(m.a,{path:"/"},r.a.createElement(w,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.ea3e2483.chunk.js.map